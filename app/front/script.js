function displayDataInDiv(e,n,t=!1){const d=t?"value":"score",a=document.createElement("h3");a.innerText=(t?e.codeRegion:e.name)+" ("+Math.round(100*e[d])/100+")",n.appendChild(a),e.axes.forEach(e=>{const t=document.createElement("h4");t.innerText=e.nom+" ("+Math.round(100*e[d])/100+")",n.appendChild(t);const a=document.createElement("ul");e.indices.forEach(e=>{var n=document.createElement("li");n.innerText=e.nom+" ("+Math.round(100*e[d])/100+")",a.appendChild(n)}),n.appendChild(a)})}window.addEventListener("DOMContentLoaded",e=>{const n=document.getElementById("form");n.addEventListener("submit",function(e){e.preventDefault();const t=n.elements.cityName.value,d=document.getElementById("data"),a=document.getElementById("error"),i=document.getElementById("dataCity"),o=document.getElementById("dataDepartement"),c=document.getElementById("dataRegion");fetch(`${window.location.origin}/score/${t}`).then(function(e){return e.ok?(a.classList.add("hidden"),d.classList.remove("hidden"),e.json()):(console.log("Mauvaise réponse du serveur"),a.classList.remove("hidden"),d.classList.add("hidden"),!1)}).then(e=>{if(e){i.innerHTML="";const n=document.createElement("h2");n.innerHTML="Ville",i.appendChild(n),o.innerHTML="";const t=document.createElement("h2");t.innerHTML="Département",o.appendChild(t),c.innerHTML="";const d=document.createElement("h2");d.innerHTML="Région",c.appendChild(d),displayDataInDiv(e.city,i),displayDataInDiv(e.department,o),displayDataInDiv(e.region,c,!0)}})})});